<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
<title>极路由B70刷老毛子Padavan固件全过程 - 有呀</title>
<meta name="description" content="什么都有一点">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link type='text/css' rel='stylesheet' href='https://nuoea.com/styles/main.css' media='screen' />
<link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css">
<link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/javascript" src='https://nuoea.com/media/scripts/jquery.js'></script>
<script type="text/javascript" src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>

<script >hljs.initHighlightingOnLoad();</script>
</head>

<body>
  <div class="layout">
    <div class="layout-header">

	<div class="layout-header-main">
		<div class="container">
			<div class="row justify-content-lg-center">
				<div class="col-12 col-lg-9">

					<div class="navbar">

						<div class="logo">
							<a href="https://nuoea.com">
								<img class="logo" src="https://nuoea.com/media/images/site_avatar.png?v=1576602225416"
									alt="">
							</a>
						</div>

						<div class="menu d-md-inline-block d-none">
							<ul class="layout-navigation-list">
								
								<li class="layout-navigation-item"><a title="首页"
										href="/">首页</a>
								</li>
								
								<li class="layout-navigation-item"><a title="关于"
										href="/post/about">关于</a>
								</li>
								
								<li class="layout-navigation-item"><a title="归档"
										href="/archives">归档</a>
								</li>
								
								<li class="layout-navigation-item"><a title="链接"
										href="/links">链接</a>
								</li>
								
							</ul>
						</div>

						
						<div class="item d-md-inline-block d-none">
							<a class="btn" href="/atom.xml">
								订 阅
							</a>
						</div>
						

						<div class="nav d-md-none d-inline-block">
							<div class="trigger">
								<i class="fa fa-bars layout-btn-toggle" aria-hidden="true"></i>
							</div>
						</div>

					</div>

				</div>
			</div>




		</div>
	</div>

</div>
    <div class="layout-collapse d-md-none">
	<div class="layout-collapse-main">
		<ul class="layout-collapse-list">
			
			<li class="layout-collapse-item"><a title="首页" href="/">首页</a></li>
			
			<li class="layout-collapse-item"><a title="关于" href="/post/about">关于</a></li>
			
			<li class="layout-collapse-item"><a title="归档" href="/archives">归档</a></li>
			
			<li class="layout-collapse-item"><a title="链接" href="/links">链接</a></li>
			

		</ul>
	</div>
</div>

    <div class="layout-content">
      <div class="layout-content-main">
        <div class="container">
          <div class="row justify-content-lg-center">
            <div class="col-12 col-lg-9">
              <div class="layout-post">
                <div class="layout-post-body">
                  <div class="row">

                    <div class="col-12 col-lg-10">
                      <div class="layout-post-main m-right m-md-right">
                        <div class="layout-post-header">
                          <h1 class="layout-post-title">极路由B70刷老毛子Padavan固件全过程</h1>
                          <div class="layout-post-meta">
                            <div class="item">
                               <a href="https://nuoea.com/tag/making" class="post--keyword"
                                data-title="折腾" data-type="post_tag" data-term-id="39">折腾</a>
                              
                            </div>
                            <div class="item">
                              <span>2018-10-21</span>
                            </div>
                          </div>
                        </div>
                        <div class="layout-post-content">
                          <div class="layout-post-item">
                            
                            <p class="with-img"><img src="https://cdn.nuoea.com/18-10-21/9981260.jpg"
                                class="attachment-full size-full wp-post-image" alt="极路由B70刷老毛子Padavan固件全过程" /></p>
                            
                            <p>在折腾酸酸乳的时候，无意中看到的这个固件，说是可以用路由器直接挂载酸酸乳，比较感兴趣，就到恩山论坛注册了账号翻了翻帖子。因为手上在用的主路由是小米的PRO，偶尔会有不稳定，但也不是什么大事。比较不爽的是，总是会弹分享路由得金币乱七八糟的广告，所以寻思如果有固件，刷成第三方也蛮好的。只是比较遗憾的是，并没有找到这个路由器的固件，却看到荒野无灯出了极路由B70的padavan固件。想到正好有个B70在家吃灰。就翻出来折腾了。</p>
<!-- more -->
<p>整个折腾过程不算太难，搞过VPS的基本都能走下来。只是B70这个机器现在比较麻烦的是解锁的过程，很多的教程都失效了。我也是在不断的尝试中，找到了一个现在还能用的解锁方式。</p>
<h2 id="解锁">解锁</h2>
<p>现在官方最新的固件版本号是：1.4.8.20462s 。 这个版本是不能解锁SSH的。唯一的办法就是降级。现在降级的固件在网上也几乎找不到了。分享一下：</p>
<blockquote>
<p>下载 ：<a href="https://pan.nuoea.com/tools/padavan/b70/B70%E5%AE%98%E6%96%B9%E5%9B%BA%E4%BB%B6/2.142baf.zip">2.142baf</a></p>
</blockquote>
<p>降级过程：</p>
<ul>
<li>拔掉路由电源。</li>
<li>用网线将极路由 LAN 口与电脑网口相连，刷机路由器无需联网，有无线网卡的建议将电脑的无线禁用。</li>
<li>按住极路由 RESET 不放，然后插上电源。</li>
<li>5秒之后松开 RESET，等待本地连接自动获取IP，网关IP为变为192.168.2.1。</li>
<li>浏览器中输入 192.168.2.1 选择降级固件刷机。</li>
<li>刷机完成，网关变成192.168.199.1。</li>
</ul>
<p>到此降级成功。如果中途有地方卡住了，可以重新再来一次。<code>注意：刷机降级有风险，请谨慎操作！！！</code></p>
<h2 id="获取权限">获取权限</h2>
<p>这里需要用到的工具是 <code>WINSCP</code>。具体过程如下：</p>
<ul>
<li>在极路由官方云插件平台中，下载vsftpd插件， 并设置好。</li>
<li>WinSCP登录FTP, 密码为路由器后台密码。</li>
<li>把破解文件拖入上传。</li>
<li>在极路由官方云插件平台中，安装 定时重播 插件。当前已经下架, 可点击任意一个软件，然后在该软件的浏览器网址中找到sid号码，并把sid号码改成118284854安装。</li>
<li>在自定义规则中填入： *  * * * * sh /tmp/storage/2.sh ，并启动。</li>
<li>回到 WinSCP 软件，  过1分钟左右， 点击刷新按钮。</li>
<li>用putty或者xshell ssh登录。用户名：root ，密码：路由器后台密码，端口：22</li>
</ul>
<p>到此为止整个路由器的准备工作都完成了。剩下的就是刷固件了。</p>
<h2 id="备份固件">备份固件</h2>
<p>一定要记得备份，如果以后想要刷回官方固件，备份文件就特别重要了。关键的时候，还可以用来救砖。</p>
<pre><code>root@Hiwifi:/tmp# cat /proc/mtd //命令说明：查看原固件分区信息
dev: size erasesize name
mtd0: 00080000 00020000 &quot;u-boot&quot;
mtd1: 00080000 00020000 &quot;debug&quot;
mtd2: 00040000 00020000 &quot;Factory&quot;
mtd3: 02000000 00020000&quot;firmware&quot;
mtd4: 00180000 00020000 &quot;kernel&quot;
mtd5: 01e80000 00020000 &quot;rootfs&quot;
mtd6: 00080000 00020000&quot;hw_panic&quot;
mtd7: 00080000 00020000 &quot;bdinfo&quot;
mtd8: 00080000 00020000 &quot;backup&quot;
mtd9: 01000000 00020000 &quot;overlay&quot;
mtd10: 02000000 00020000&quot;firmware_backup&quot;
mtd11: 00200000 00020000 &quot;oem&quot;
mtd12: 02ac0000 00020000 &quot;opt&quot;
root@Hiwifi:~# dd if=/dev/mtd0 of=/tmp/u-boot.bin //命令说明：备份打包mtd0为u-boot.bin文件到tmp目录下
1024+0 records in
1024+0 records out
root@Hiwifi:~# dd if=/dev/mtd2 of=/tmp/Factory.bin//命令说明：备份打包mtd2为Factory.bin文件到tmp目录下
512+0 records in
512+0 records out
root@Hiwifi:~# dd if=/dev/mtd3 of=/tmp/firmware.bin//命令说明：备份打包mtd3为firmware.bin文件到tmp目录下
65536+0 records in
65536+0 records out
root@Hiwifi:~#
</code></pre>
<p>其它mtd文件也可以全部备份到tmp目录下。使用winscp工具，scp连接路由器，192.168.199.1。用winscp工具把备份的/tmp/*.bin原厂固件下载到本地电脑备用。</p>
<h2 id="备份mac地址">备份MAC地址</h2>
<p>MAC地址规则及示例：</p>
<pre><code>WAN MAC：在LAN的基础上最后一位加1，具体以固件内看到的为准。示例：D4:EE:07:32:84:23
LAN MAC：机器背面的MAC地址即LAN地址，也可以进官方固件查看。示例：D4:EE:07:32:84:22
2.4G MAC：同LAN MAC，也可以用WirelessMon软件查看。示例：D4:EE:07:32:84:22
5G MAC：可以用WirelessMon软件查看，与2.4GMAC区别是第二位不同。示例：D0:EE:07:32:84:22
</code></pre>
<h2 id="刷入-breed">刷入 breed</h2>
<p>breed 就类似于安卓手机上的 Recovery 。刷上了这个，之后路由器在想刷什么固件都不用担心变砖。</p>
<p>过程也是很简单。</p>
<ul>
<li>用 WINSCP 工具将 breed.bin 文件复制到路由tmp目录。</li>
<li>输入命令：root@Hiwifi:～# cd /tmp</li>
<li>输入命令：root@Hiwifi:/tmp# mtd breed.bin u-boot</li>
<li>输入命令：root@Hiwifi:/tmp#mtd erase firmware_backup</li>
<li>reboot</li>
</ul>
<h2 id="刷入-padavan">刷入 padavan</h2>
<p>最后就是刷固件了。</p>
<ul>
<li>路由器抜电源，长按复位键，不要松开。</li>
<li>插上电源，5秒后松开复位键，浏览器输入：192.168.1.1。</li>
<li>上传 padavan 固件，点恢复固件。</li>
</ul>
<h2 id="最后">最后</h2>
<p>刷好之后重启一次，就可以登录路由器了。登录之后别忘了还要双清一次。然后恢复MAC地址。之后就可以享受新固件带来的乐趣了。</p>

                          </div>
                        </div>
                        <div class="layout-post-social">
                          <div class="layout-social-item">
                            <div id="/post/hiwifi-b70-padavan/" class="leancloud-visitors view"
                              data-flag-title="极路由B70刷老毛子Padavan固件全过程">
                              <span class="post-meta-item-text">阅读 </span>
                              <span class="leancloud-visitors-count"></span>
                            </div>
                          </div>
                        </div>

                        <div class="layout-post-navigation">
                          <div class="navigation-list">
                            
                            <div class="post-card row">
                              
                              <div class="card-content col-8 col-md-9">
                                <div class="card-body">
                                  <div class="header">
                                    <a href="https://nuoea.com/post/start-vision-plan" class="title">
                                      <h4>开启博客视觉系统升级计划</h4>
                                    </a>
                                  </div>
                                  <div class="inner d-none d-sm-block">
                                    <div class="abstract">
                                      <p>搬到 Bitcron 来之后一切都很满意。全新的写作体验，真的可以让人找回一开始写博的那种状态。要说唯一的遗憾，可能就是 Bitcron 提供的主题模版太少了，不过也正如官方文档所说，现在折腾这种静态博客的人，大多数都是有一定动手能力的吧。所以当时就想，有时间就自己写一个吧，也不是什么大问题。恰好上个周末有空，就花了两天的时间，把这个设计落地了。</p>

                                    </div>
                                  </div>
                                </div>
                                <div class="card-footer">
                                  <div class="item"><span>上一篇</span></div>
                                  <div class="item">2018-10-29</div>
                                </div>
                              </div>
                              <div class="card-thumb col-4 col-md-3">
                                <div class="thumb">
                                  <a href="https://nuoea.com/post/start-vision-plan"
                                    style="background-image: url('https://cdn.nuoea.com/18-10-29/62874435.jpg');"></a>
                                </div>
                              </div>
                              
                            </div>

                            <div class="post-card row">
                              
                              <div class="card-content col-8 col-md-9">
                                <div class="card-body">
                                  <div class="header">
                                    <a href="https://nuoea.com/post/recommend-free-host-youjiazhuji" class="title">
                                      <h4>推荐一家免费的主机</h4>
                                    </a>
                                  </div>
                                  <div class="inner d-none d-sm-block">
                                    <div class="abstract">
                                      <h2 id="写在前面">写在前面</h2>
<p>其实搬到 Bitcron 来之后。之前的 VPS 就没有怎么用了，来年也不准备再续费。但是还有一些项目是需要用到PHP环境，如果单独再去为此续费又觉得有点不划算。想到之前发现的一个免费的主机，好像有两年了吧，还是运行的很稳定。正好最近折腾 DISQUS ，需要用到一台境外的PHP主机，就翻出来用了一下，发现效果还蛮好，就推荐一下。</p>

                                    </div>
                                  </div>
                                </div>
                                <div class="card-footer">
                                  <div class="item"><span>下一篇</span></div>
                                  <div class="item">2018-10-18</div>
                                </div>
                              </div>
                              <div class="card-thumb col-4 col-md-3">
                                <div class="thumb">
                                  <a href="https://nuoea.com/post/recommend-free-host-youjiazhuji"
                                    style="background-image: url('https://cdn.nuoea.com/18-10-18/1.png');"></a>
                                </div>
                              </div>
                              
                            </div>

                            
                          </div>
                        </div>

                        <div class="layout-comments"></div>
                        
                        <script type="text/javascript" src='https://nuoea.com/media/scripts/zan.js'></script>
<script type="text/javascript" src='https://nuoea.com/media/scripts/av-min.js'></script>
<script type="text/javascript" src='https://nuoea.com/media/scripts/Valine.min.js'></script>

<script>
  var valine = new Valine();
  valine.init({
    el: '.layout-comments',
    appId: 'e7hSFIsJCyJg2uaQaYDWtesc-MdYXbMMI',
    appKey: 'LsdlyJ6vfXjJAk3JYASt5KJ4',
    notify: false,
    verify: false,
    visitor: true,
    avatar: 'mp',
    placeholder: '加入讨论...'
  })
</script>
                        
                      </div>
                    </div>

                    <div class="col-12 col-lg-2 d-none d-lg-block">
                      <div class="layout-post-sidebar">
                        <div class="layout-sidebar-item">
                          <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E8%A7%A3%E9%94%81">解锁</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E6%9D%83%E9%99%90">获取权限</a></li>
<li><a href="#%E5%A4%87%E4%BB%BD%E5%9B%BA%E4%BB%B6">备份固件</a></li>
<li><a href="#%E5%A4%87%E4%BB%BDmac%E5%9C%B0%E5%9D%80">备份MAC地址</a></li>
<li><a href="#%E5%88%B7%E5%85%A5-breed">刷入 breed</a></li>
<li><a href="#%E5%88%B7%E5%85%A5-padavan">刷入 padavan</a></li>
<li><a href="#%E6%9C%80%E5%90%8E">最后</a></li>
</ul>
</li>
</ul>

                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>


            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="layout-totop d-none"><i class="fa fa-angle-up" aria-hidden="true"></i></div>

    	<div class="layout-footer">

		<div class="container">
			<div class="row justify-content-lg-center">
				<div class="col-12 col-lg-9">
					<div class="footer">
						<div class="row">
							<div class="col-12 col-md-9">
								<div class="footer-copy">
									
									<span>© 2016 </span>
									<a href="https://nuoea.com" title="有呀">有呀</a>
									<span class="px-2">⋅</span>
									
									Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> And <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank">又拍云</a>
									<div class="footer-icp d-none d-sm-inline-block">
										<span class="px-2">⋅</span>
										
										<span>鄂ICP备16014179号 </span>
										
									</div>
								</div>
							</div>
							<div class="col-sm-3 d-none d-md-block">
								<div class="footer-links">
									
									
									
									
									<span class="footer-links-item">
										<a href="https://github.com/insdram" target="_blank">
											<i class="fa fa-github" aria-hidden="true"></i>
										</a>
									</span>
									
									
									
									
									
									
									
									
									
									
									
									
									
									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<script type="text/javascript" src='https://nuoea.com/media/scripts/main.js'></script>
	
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?b38914af394e7e51bb959b2a1cf39db4";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>
	

  </div>
</body>

</html>